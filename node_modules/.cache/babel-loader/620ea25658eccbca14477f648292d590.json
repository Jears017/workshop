{"ast":null,"code":"var _jsxFileName = \"/home/jears0177/2021/deploy-workshop/client/src/components/Create-Product/Create-Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CreateProduct = () => {\n  _s();\n\n  const initialState = {\n    name: '',\n    action: '',\n    price: ''\n  };\n  const [data, seData] = useState(initialState);\n  const [fetching, setFetching] = useState(false);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    axios.post('https://workshop-application77.herokuapp.com/api/products', { ...data\n    });\n\n    if (data.name && data.action && data.price) {\n      setFetching(true);\n    }\n  };\n\n  const onChangeHandler = e => {\n    seData(prevState => {\n      return { ...prevState,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  if (fetching) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: '/products'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: c.title,\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0438\\u0437\\u0434\\u0435\\u043B\\u0438\\u044F:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0418\\u0437\\u0434\\u0435\\u043B\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'name',\n            placeholder: 'Введите изделие',\n            type: \"text\",\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'action',\n            placeholder: 'Введите действие',\n            type: \"text\",\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'price',\n            type: \"text\",\n            placeholder: 'Введите стоимость',\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: c.submitBtn,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: 'Добавить',\n          className: 'btn btn-primary'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateProduct, \"Q1Hos8bLf7hweR6MaW7sTdX1fkY=\");\n\n_c = CreateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"sources":["/home/jears0177/2021/deploy-workshop/client/src/components/Create-Product/Create-Product.js"],"names":["React","useState","c","axios","Redirect","CreateProduct","initialState","name","action","price","data","seData","fetching","setFetching","submitHandler","e","preventDefault","post","onChangeHandler","prevState","target","value","title","submitBtn"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const CreateProduct = () => {\n    const initialState = {\n        name: '',\n        action: '',\n        price: ''\n    }\n    const [data, seData] = useState(initialState)\n    const [fetching, setFetching] = useState(false)\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        axios.post('https://workshop-application77.herokuapp.com/api/products', {...data})\n        if (data.name && data.action && data.price) {\n            setFetching(true)\n        }\n\n    }\n\n    const onChangeHandler = (e) => {\n        seData(prevState => {\n            return {...prevState, [e.target.name]: e.target.value}\n        })\n    }\n\n    if (fetching) {\n        return <Redirect to={'/products'}/>\n    }\n    return (\n        <div>\n            <h2 className={c.title}>Добавление изделия:</h2>\n            <form onSubmit={submitHandler}>\n                <div>\n                    <label>\n                        Изделие:\n                        <input\n                            className=\"form-control\"\n                            name={'name'}\n                            placeholder={'Введите изделие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Действие:\n                        <input\n                            className=\"form-control\"\n                            name={'action'}\n                            placeholder={'Введите действие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Стоимость:\n                        <input\n                            className=\"form-control\"\n                            name={'price'}\n                            type=\"text\"\n                            placeholder={'Введите стоимость'}\n                            onChange={onChangeHandler}\n                        />\n                    </label>\n                </div>\n                <div className={c.submitBtn}>\n                    <input type=\"submit\" value={'Добавить'} className={'btn btn-primary'}/>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}