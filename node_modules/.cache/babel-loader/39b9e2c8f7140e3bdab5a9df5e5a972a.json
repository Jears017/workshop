{"ast":null,"code":"import _defineProperty from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import c from\"../Create-Order/Create-Order.module.css\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditProduct=function EditProduct(props){var initialState={name:'',action:'',price:''};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),fetching=_useState6[0],setFetching=_useState6[1];useEffect(function(){axios.get(\"https://workshop-application77.herokuapp.com/api/products/\".concat(props.match.params.id)).then(function(res){return setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{name:res.data.name,action:res.data.action,price:res.data.price});});});},[]);var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"https://workshop-application77.herokuapp.com/api/products/\".concat(props.match.params.id),_objectSpread({},data));if(data.name&&data.action&&data.price){setFetching(true);}};var onChangeHandler=function onChangeHandler(e){setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};if(fetching){return/*#__PURE__*/_jsx(Redirect,{to:'/products'});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0418\\u0437\\u0434\\u0435\\u043B\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'name',placeholder:'Введите изделие',type:\"text\",onChange:onChangeHandler,value:data.name})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'action',placeholder:'Введите действие',type:\"text\",onChange:onChangeHandler,value:data.action})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'price',type:\"number\",placeholder:'Введите стоимость',onChange:onChangeHandler,value:data.price})]})}),/*#__PURE__*/_jsx(\"div\",{className:c.submitBtn,children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:'Добавить',className:'btn btn-primary'})})]})});};","map":{"version":3,"sources":["/home/jears0177/2021/deploy-workshop/client/src/components/Edit-Product/Edit-Product.js"],"names":["React","useEffect","useState","c","axios","Redirect","EditProduct","props","initialState","name","action","price","data","setData","product","setProduct","fetching","setFetching","get","match","params","id","then","res","prevState","submitHandler","e","preventDefault","put","onChangeHandler","target","value","submitBtn"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const EditProduct = (props) => {\n\n\n    const initialState = {\n        name: '',\n        action: '',\n        price: ''\n    }\n    const [data, setData] = useState(initialState)\n    const [product, setProduct] = useState({})\n    const [fetching, setFetching] = useState(false)\n\n    useEffect(() => {\n        axios.get(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`).then(res => setData(prevState => {\n            return {...prevState, name: res.data.name, action: res.data.action, price: res.data.price}\n        }))\n    }, [])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        axios.put(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`, {...data})\n        if (data.name && data.action && data.price) {\n            setFetching(true)\n        }\n\n    }\n\n    const onChangeHandler = (e) => {\n        setData(prevState => {\n            return {...prevState, [e.target.name]: e.target.value}\n        })\n    }\n\n    if (fetching) {\n        return <Redirect to={'/products'}/>\n    }\n    return (\n        <div>\n            <form onSubmit={submitHandler}>\n                <div>\n                    <label>\n                        Изделие:\n                        <input\n                            className=\"form-control\"\n                            name={'name'}\n                            placeholder={'Введите изделие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                            value={data.name}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Действие:\n                        <input\n                            className=\"form-control\"\n                            name={'action'}\n                            placeholder={'Введите действие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                            value={data.action}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Стоимость:\n                        <input\n                            className=\"form-control\"\n                            name={'price'}\n                            type=\"number\"\n                            placeholder={'Введите стоимость'}\n                            onChange={onChangeHandler}\n                            value={data.price}\n                        />\n                    </label>\n                </div>\n                <div className={c.submitBtn}>\n                    <input type=\"submit\" value={'Добавить'} className={'btn btn-primary'}/>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}