{"ast":null,"code":"import _defineProperty from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jears0177/2021/deploy-workshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import c from\"../Create-Order/Create-Order.module.css\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreateProduct=function CreateProduct(){var initialState={name:'',action:'',price:''};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),data=_useState2[0],seData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),fetching=_useState4[0],setFetching=_useState4[1];var submitHandler=function submitHandler(e){e.preventDefault();axios.post('https://workshop-application77.herokuapp.com/api/products',_objectSpread({},data));if(data.name&&data.action&&data.price){setFetching(true);}};var onChangeHandler=function onChangeHandler(e){seData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};if(fetching){return/*#__PURE__*/_jsx(Redirect,{to:'/products'});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:c.title,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0438\\u0437\\u0434\\u0435\\u043B\\u0438\\u044F:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0418\\u0437\\u0434\\u0435\\u043B\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'name',placeholder:'Введите изделие',type:\"text\",onChange:onChangeHandler})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'action',placeholder:'Введите действие',type:\"text\",onChange:onChangeHandler})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:'price',type:\"text\",placeholder:'Введите стоимость',onChange:onChangeHandler})]})}),/*#__PURE__*/_jsx(\"div\",{className:c.submitBtn,children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:'Добавить',className:'btn btn-primary'})})]})]});};","map":{"version":3,"sources":["/home/jears0177/2021/deploy-workshop/client/src/components/Create-Product/Create-Product.js"],"names":["React","useState","c","axios","Redirect","CreateProduct","initialState","name","action","price","data","seData","fetching","setFetching","submitHandler","e","preventDefault","post","onChangeHandler","prevState","target","value","title","submitBtn"],"mappings":"ueAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,CAAP,KAAc,yCAAd,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,C,wFAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC/B,GAAMC,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAE,EADW,CAEjBC,MAAM,CAAE,EAFS,CAGjBC,KAAK,CAAE,EAHU,CAArB,CAKA,cAAuBR,QAAQ,CAACK,YAAD,CAA/B,wCAAOI,IAAP,eAAaC,MAAb,eACA,eAAgCV,QAAQ,CAAC,KAAD,CAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACAb,KAAK,CAACc,IAAN,CAAW,2DAAX,kBAA4EP,IAA5E,GACA,GAAIA,IAAI,CAACH,IAAL,EAAaG,IAAI,CAACF,MAAlB,EAA4BE,IAAI,CAACD,KAArC,CAA4C,CACxCI,WAAW,CAAC,IAAD,CAAX,CACH,CAEJ,CAPD,CASA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACH,CAAD,CAAO,CAC3BJ,MAAM,CAAC,SAAAQ,SAAS,CAAI,CAChB,sCAAWA,SAAX,wBAAuBJ,CAAC,CAACK,MAAF,CAASb,IAAhC,CAAuCQ,CAAC,CAACK,MAAF,CAASC,KAAhD,GACH,CAFK,CAAN,CAGH,CAJD,CAMA,GAAIT,QAAJ,CAAc,CACV,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAE,WAAd,EAAP,CACH,CACD,mBACI,oCACI,WAAI,SAAS,CAAEV,CAAC,CAACoB,KAAjB,sHADJ,cAEI,cAAM,QAAQ,CAAER,aAAhB,wBACI,kCACI,oFAEI,cACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAE,MAFV,CAGI,WAAW,CAAE,iBAHjB,CAII,IAAI,CAAC,MAJT,CAKI,QAAQ,CAAEI,eALd,EAFJ,GADJ,EADJ,cAcI,kCACI,0FAEI,cACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAE,QAFV,CAGI,WAAW,CAAE,kBAHjB,CAII,IAAI,CAAC,MAJT,CAKI,QAAQ,CAAEA,eALd,EAFJ,GADJ,EAdJ,cA0BI,kCACI,gGAEI,cACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAE,OAFV,CAGI,IAAI,CAAC,MAHT,CAII,WAAW,CAAE,mBAJjB,CAKI,QAAQ,CAAEA,eALd,EAFJ,GADJ,EA1BJ,cAsCI,YAAK,SAAS,CAAEhB,CAAC,CAACqB,SAAlB,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE,UAA5B,CAAwC,SAAS,CAAE,iBAAnD,EADJ,EAtCJ,GAFJ,GADJ,CA+CH,CA1EM","sourcesContent":["import React, {useState} from 'react'\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const CreateProduct = () => {\n    const initialState = {\n        name: '',\n        action: '',\n        price: ''\n    }\n    const [data, seData] = useState(initialState)\n    const [fetching, setFetching] = useState(false)\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        axios.post('https://workshop-application77.herokuapp.com/api/products', {...data})\n        if (data.name && data.action && data.price) {\n            setFetching(true)\n        }\n\n    }\n\n    const onChangeHandler = (e) => {\n        seData(prevState => {\n            return {...prevState, [e.target.name]: e.target.value}\n        })\n    }\n\n    if (fetching) {\n        return <Redirect to={'/products'}/>\n    }\n    return (\n        <div>\n            <h2 className={c.title}>Добавление изделия:</h2>\n            <form onSubmit={submitHandler}>\n                <div>\n                    <label>\n                        Изделие:\n                        <input\n                            className=\"form-control\"\n                            name={'name'}\n                            placeholder={'Введите изделие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Действие:\n                        <input\n                            className=\"form-control\"\n                            name={'action'}\n                            placeholder={'Введите действие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Стоимость:\n                        <input\n                            className=\"form-control\"\n                            name={'price'}\n                            type=\"text\"\n                            placeholder={'Введите стоимость'}\n                            onChange={onChangeHandler}\n                        />\n                    </label>\n                </div>\n                <div className={c.submitBtn}>\n                    <input type=\"submit\" value={'Добавить'} className={'btn btn-primary'}/>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}