{"ast":null,"code":"var _jsxFileName = \"/home/jears0177/2021/deploy-workshop/client/src/components/Edit-Product/Edit-Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EditProduct = props => {\n  _s();\n\n  const initialState = {\n    name: '',\n    action: '',\n    price: ''\n  };\n  const [data, setData] = useState(initialState);\n  const [product, setProduct] = useState({});\n  const [fetching, setFetching] = useState(false);\n  useEffect(() => {\n    axios.get(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`).then(res => setData(prevState => {\n      return { ...prevState,\n        name: res.data.name,\n        action: res.data.action,\n        price: res.data.price\n      };\n    }));\n  }, []);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    axios.put(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`, { ...data\n    });\n\n    if (data.name && data.action && data.price) {\n      setFetching(true);\n    }\n  };\n\n  const onChangeHandler = e => {\n    setData(prevState => {\n      return { ...prevState,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  if (fetching) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: '/products'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0418\\u0437\\u0434\\u0435\\u043B\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'name',\n            placeholder: 'Введите изделие',\n            type: \"text\",\n            onChange: onChangeHandler,\n            value: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'action',\n            placeholder: 'Введите действие',\n            type: \"text\",\n            onChange: onChangeHandler,\n            value: data.action\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: 'price',\n            type: \"number\",\n            placeholder: 'Введите стоимость',\n            onChange: onChangeHandler,\n            value: data.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: c.submitBtn,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: 'Добавить',\n          className: 'btn btn-primary'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditProduct, \"0C6RTQsM7H5QXVl4resY8eydQmE=\");\n\n_c = EditProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"sources":["/home/jears0177/2021/deploy-workshop/client/src/components/Edit-Product/Edit-Product.js"],"names":["React","useEffect","useState","c","axios","Redirect","EditProduct","props","initialState","name","action","price","data","setData","product","setProduct","fetching","setFetching","get","match","params","id","then","res","prevState","submitHandler","e","preventDefault","put","onChangeHandler","target","value","submitBtn"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport c from \"../Create-Order/Create-Order.module.css\";\nimport axios from \"axios\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const EditProduct = (props) => {\n\n\n    const initialState = {\n        name: '',\n        action: '',\n        price: ''\n    }\n    const [data, setData] = useState(initialState)\n    const [product, setProduct] = useState({})\n    const [fetching, setFetching] = useState(false)\n\n    useEffect(() => {\n        axios.get(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`).then(res => setData(prevState => {\n            return {...prevState, name: res.data.name, action: res.data.action, price: res.data.price}\n        }))\n    }, [])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        axios.put(`https://workshop-application77.herokuapp.com/api/products/${props.match.params.id}`, {...data})\n        if (data.name && data.action && data.price) {\n            setFetching(true)\n        }\n\n    }\n\n    const onChangeHandler = (e) => {\n        setData(prevState => {\n            return {...prevState, [e.target.name]: e.target.value}\n        })\n    }\n\n    if (fetching) {\n        return <Redirect to={'/products'}/>\n    }\n    return (\n        <div>\n            <form onSubmit={submitHandler}>\n                <div>\n                    <label>\n                        Изделие:\n                        <input\n                            className=\"form-control\"\n                            name={'name'}\n                            placeholder={'Введите изделие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                            value={data.name}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Действие:\n                        <input\n                            className=\"form-control\"\n                            name={'action'}\n                            placeholder={'Введите действие'}\n                            type=\"text\"\n                            onChange={onChangeHandler}\n                            value={data.action}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Стоимость:\n                        <input\n                            className=\"form-control\"\n                            name={'price'}\n                            type=\"number\"\n                            placeholder={'Введите стоимость'}\n                            onChange={onChangeHandler}\n                            value={data.price}\n                        />\n                    </label>\n                </div>\n                <div className={c.submitBtn}>\n                    <input type=\"submit\" value={'Добавить'} className={'btn btn-primary'}/>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}